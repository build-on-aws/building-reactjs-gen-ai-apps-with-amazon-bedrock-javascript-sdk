{"version":3,"file":"index.js","sources":["../../../../../../../src/providers/cognito/utils/clients/CognitoIdentityProvider/index.ts"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deleteUserAttributes = exports.listDevices = exports.updateDeviceStatus = exports.verifyUserAttribute = exports.updateUserAttributes = exports.globalSignOut = exports.getUserAttributeVerificationCode = exports.deleteUser = exports.forgetDevice = exports.confirmDevice = exports.changePassword = exports.getUser = exports.setUserMFAPreference = exports.associateSoftwareToken = exports.verifySoftwareToken = exports.resendConfirmationCode = exports.respondToAuthChallenge = exports.confirmForgotPassword = exports.forgotPassword = exports.confirmSignUp = exports.signUp = exports.revokeToken = exports.initiateAuth = void 0;\nconst composers_1 = require(\"@aws-amplify/core/internals/aws-client-utils/composers\");\nconst base_1 = require(\"./base\");\nconst aws_client_utils_1 = require(\"@aws-amplify/core/internals/aws-client-utils\");\nconst assertServiceError_1 = require(\"../../../../../errors/utils/assertServiceError\");\nconst AuthError_1 = require(\"../../../../../errors/AuthError\");\nconst buildUserPoolSerializer = (operation) => (input, endpoint) => {\n    const headers = (0, base_1.getSharedHeaders)(operation);\n    const body = JSON.stringify(input);\n    return (0, base_1.buildHttpRpcRequest)(endpoint, headers, body);\n};\nconst buildUserPoolDeserializer = () => {\n    return async (response) => {\n        if (response.statusCode >= 300) {\n            const error = await (0, aws_client_utils_1.parseJsonError)(response);\n            (0, assertServiceError_1.assertServiceError)(error);\n            throw new AuthError_1.AuthError({ name: error.name, message: error.message });\n        }\n        else {\n            const body = await (0, aws_client_utils_1.parseJsonBody)(response);\n            return body;\n        }\n    };\n};\nconst handleEmptyResponseDeserializer = () => {\n    return async (response) => {\n        if (response.statusCode >= 300) {\n            const error = await (0, aws_client_utils_1.parseJsonError)(response);\n            (0, assertServiceError_1.assertServiceError)(error);\n            throw new AuthError_1.AuthError({ name: error.name, message: error.message });\n        }\n        else {\n            return undefined;\n        }\n    };\n};\nexports.initiateAuth = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('InitiateAuth'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.revokeToken = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('RevokeToken'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.signUp = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('SignUp'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.confirmSignUp = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ConfirmSignUp'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.forgotPassword = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ForgotPassword'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.confirmForgotPassword = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ConfirmForgotPassword'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.respondToAuthChallenge = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('RespondToAuthChallenge'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.resendConfirmationCode = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ResendConfirmationCode'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.verifySoftwareToken = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('VerifySoftwareToken'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.associateSoftwareToken = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('AssociateSoftwareToken'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.setUserMFAPreference = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('SetUserMFAPreference'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.getUser = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('GetUser'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.changePassword = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ChangePassword'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.confirmDevice = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ConfirmDevice'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.forgetDevice = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ForgetDevice'), handleEmptyResponseDeserializer(), base_1.defaultConfig);\nexports.deleteUser = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('DeleteUser'), handleEmptyResponseDeserializer(), base_1.defaultConfig);\nexports.getUserAttributeVerificationCode = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('GetUserAttributeVerificationCode'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.globalSignOut = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('GlobalSignOut'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.updateUserAttributes = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('UpdateUserAttributes'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.verifyUserAttribute = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('VerifyUserAttribute'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.updateDeviceStatus = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('UpdateDeviceStatus'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.listDevices = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('ListDevices'), buildUserPoolDeserializer(), base_1.defaultConfig);\nexports.deleteUserAttributes = (0, composers_1.composeServiceApi)(base_1.cognitoUserPoolTransferHandler, buildUserPoolSerializer('DeleteUserAttributes'), buildUserPoolDeserializer(), base_1.defaultConfig);\n"],"names":[],"mappings":"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"}