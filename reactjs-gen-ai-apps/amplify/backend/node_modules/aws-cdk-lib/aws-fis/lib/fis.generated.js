"use strict";var _a;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnExperimentTemplate=void 0;const jsiiDeprecationWarnings=require("../../.warnings.jsii.js"),JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti"),cdk=require("../../core"),cfn_parse=require("../../core/lib/helpers-internal");function CfnExperimentTemplatePropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("actions",cdk.hashValidator(CfnExperimentTemplate_ExperimentTemplateActionPropertyValidator))(properties.actions)),errors.collect(cdk.propertyValidator("description",cdk.requiredValidator)(properties.description)),errors.collect(cdk.propertyValidator("description",cdk.validateString)(properties.description)),errors.collect(cdk.propertyValidator("logConfiguration",CfnExperimentTemplate_ExperimentTemplateLogConfigurationPropertyValidator)(properties.logConfiguration)),errors.collect(cdk.propertyValidator("roleArn",cdk.requiredValidator)(properties.roleArn)),errors.collect(cdk.propertyValidator("roleArn",cdk.validateString)(properties.roleArn)),errors.collect(cdk.propertyValidator("stopConditions",cdk.requiredValidator)(properties.stopConditions)),errors.collect(cdk.propertyValidator("stopConditions",cdk.listValidator(CfnExperimentTemplate_ExperimentTemplateStopConditionPropertyValidator))(properties.stopConditions)),errors.collect(cdk.propertyValidator("tags",cdk.requiredValidator)(properties.tags)),errors.collect(cdk.propertyValidator("tags",cdk.hashValidator(cdk.validateString))(properties.tags)),errors.collect(cdk.propertyValidator("targets",cdk.requiredValidator)(properties.targets)),errors.collect(cdk.propertyValidator("targets",cdk.hashValidator(CfnExperimentTemplate_ExperimentTemplateTargetPropertyValidator))(properties.targets)),errors.wrap('supplied properties not correct for "CfnExperimentTemplateProps"')}function cfnExperimentTemplatePropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplatePropsValidator(properties).assertSuccess(),{Description:cdk.stringToCloudFormation(properties.description),RoleArn:cdk.stringToCloudFormation(properties.roleArn),StopConditions:cdk.listMapper(cfnExperimentTemplateExperimentTemplateStopConditionPropertyToCloudFormation)(properties.stopConditions),Tags:cdk.hashMapper(cdk.stringToCloudFormation)(properties.tags),Targets:cdk.hashMapper(cfnExperimentTemplateExperimentTemplateTargetPropertyToCloudFormation)(properties.targets),Actions:cdk.hashMapper(cfnExperimentTemplateExperimentTemplateActionPropertyToCloudFormation)(properties.actions),LogConfiguration:cfnExperimentTemplateExperimentTemplateLogConfigurationPropertyToCloudFormation(properties.logConfiguration)}):properties}function CfnExperimentTemplatePropsFromCloudFormation(properties){if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("description","Description",cfn_parse.FromCloudFormation.getString(properties.Description)),ret.addPropertyResult("roleArn","RoleArn",cfn_parse.FromCloudFormation.getString(properties.RoleArn)),ret.addPropertyResult("stopConditions","StopConditions",cfn_parse.FromCloudFormation.getArray(CfnExperimentTemplateExperimentTemplateStopConditionPropertyFromCloudFormation)(properties.StopConditions)),ret.addPropertyResult("tags","Tags",cfn_parse.FromCloudFormation.getMap(cfn_parse.FromCloudFormation.getString)(properties.Tags)),ret.addPropertyResult("targets","Targets",cfn_parse.FromCloudFormation.getMap(CfnExperimentTemplateExperimentTemplateTargetPropertyFromCloudFormation)(properties.Targets)),ret.addPropertyResult("actions","Actions",properties.Actions!=null?cfn_parse.FromCloudFormation.getMap(CfnExperimentTemplateExperimentTemplateActionPropertyFromCloudFormation)(properties.Actions):void 0),ret.addPropertyResult("logConfiguration","LogConfiguration",properties.LogConfiguration!=null?CfnExperimentTemplateExperimentTemplateLogConfigurationPropertyFromCloudFormation(properties.LogConfiguration):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnExperimentTemplate extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnExperimentTemplatePropsFromCloudFormation(resourceProperties),ret=new CfnExperimentTemplate(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnExperimentTemplate.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_fis_CfnExperimentTemplateProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnExperimentTemplate),error}cdk.requireProperty(props,"description",this),cdk.requireProperty(props,"roleArn",this),cdk.requireProperty(props,"stopConditions",this),cdk.requireProperty(props,"tags",this),cdk.requireProperty(props,"targets",this),this.attrId=cdk.Token.asString(this.getAtt("Id",cdk.ResolutionTypeHint.STRING)),this.description=props.description,this.roleArn=props.roleArn,this.stopConditions=props.stopConditions,this.tags=new cdk.TagManager(cdk.TagType.MAP,"AWS::FIS::ExperimentTemplate",props.tags,{tagPropertyName:"tags"}),this.targets=props.targets,this.actions=props.actions,this.logConfiguration=props.logConfiguration}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnExperimentTemplate.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}get cfnProperties(){return{description:this.description,roleArn:this.roleArn,stopConditions:this.stopConditions,tags:this.tags.renderTags(),targets:this.targets,actions:this.actions,logConfiguration:this.logConfiguration}}renderProperties(props){return cfnExperimentTemplatePropsToCloudFormation(props)}}_a=JSII_RTTI_SYMBOL_1,CfnExperimentTemplate[_a]={fqn:"aws-cdk-lib.aws_fis.CfnExperimentTemplate",version:"2.80.0"},CfnExperimentTemplate.CFN_RESOURCE_TYPE_NAME="AWS::FIS::ExperimentTemplate",exports.CfnExperimentTemplate=CfnExperimentTemplate;function CfnExperimentTemplate_CloudWatchLogsConfigurationPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("logGroupArn",cdk.requiredValidator)(properties.logGroupArn)),errors.collect(cdk.propertyValidator("logGroupArn",cdk.validateString)(properties.logGroupArn)),errors.wrap('supplied properties not correct for "CloudWatchLogsConfigurationProperty"')}function cfnExperimentTemplateCloudWatchLogsConfigurationPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplate_CloudWatchLogsConfigurationPropertyValidator(properties).assertSuccess(),{LogGroupArn:cdk.stringToCloudFormation(properties.logGroupArn)}):properties}function CfnExperimentTemplateCloudWatchLogsConfigurationPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("logGroupArn","LogGroupArn",cfn_parse.FromCloudFormation.getString(properties.LogGroupArn)),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnExperimentTemplate_ExperimentTemplateActionPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("actionId",cdk.requiredValidator)(properties.actionId)),errors.collect(cdk.propertyValidator("actionId",cdk.validateString)(properties.actionId)),errors.collect(cdk.propertyValidator("description",cdk.validateString)(properties.description)),errors.collect(cdk.propertyValidator("parameters",cdk.hashValidator(cdk.validateString))(properties.parameters)),errors.collect(cdk.propertyValidator("startAfter",cdk.listValidator(cdk.validateString))(properties.startAfter)),errors.collect(cdk.propertyValidator("targets",cdk.hashValidator(cdk.validateString))(properties.targets)),errors.wrap('supplied properties not correct for "ExperimentTemplateActionProperty"')}function cfnExperimentTemplateExperimentTemplateActionPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplate_ExperimentTemplateActionPropertyValidator(properties).assertSuccess(),{ActionId:cdk.stringToCloudFormation(properties.actionId),Description:cdk.stringToCloudFormation(properties.description),Parameters:cdk.hashMapper(cdk.stringToCloudFormation)(properties.parameters),StartAfter:cdk.listMapper(cdk.stringToCloudFormation)(properties.startAfter),Targets:cdk.hashMapper(cdk.stringToCloudFormation)(properties.targets)}):properties}function CfnExperimentTemplateExperimentTemplateActionPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("actionId","ActionId",cfn_parse.FromCloudFormation.getString(properties.ActionId)),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse.FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("parameters","Parameters",properties.Parameters!=null?cfn_parse.FromCloudFormation.getMap(cfn_parse.FromCloudFormation.getString)(properties.Parameters):void 0),ret.addPropertyResult("startAfter","StartAfter",properties.StartAfter!=null?cfn_parse.FromCloudFormation.getStringArray(properties.StartAfter):void 0),ret.addPropertyResult("targets","Targets",properties.Targets!=null?cfn_parse.FromCloudFormation.getMap(cfn_parse.FromCloudFormation.getString)(properties.Targets):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnExperimentTemplate_ExperimentTemplateLogConfigurationPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("cloudWatchLogsConfiguration",cdk.validateObject)(properties.cloudWatchLogsConfiguration)),errors.collect(cdk.propertyValidator("logSchemaVersion",cdk.requiredValidator)(properties.logSchemaVersion)),errors.collect(cdk.propertyValidator("logSchemaVersion",cdk.validateNumber)(properties.logSchemaVersion)),errors.collect(cdk.propertyValidator("s3Configuration",cdk.validateObject)(properties.s3Configuration)),errors.wrap('supplied properties not correct for "ExperimentTemplateLogConfigurationProperty"')}function cfnExperimentTemplateExperimentTemplateLogConfigurationPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplate_ExperimentTemplateLogConfigurationPropertyValidator(properties).assertSuccess(),{CloudWatchLogsConfiguration:cdk.objectToCloudFormation(properties.cloudWatchLogsConfiguration),LogSchemaVersion:cdk.numberToCloudFormation(properties.logSchemaVersion),S3Configuration:cdk.objectToCloudFormation(properties.s3Configuration)}):properties}function CfnExperimentTemplateExperimentTemplateLogConfigurationPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("cloudWatchLogsConfiguration","CloudWatchLogsConfiguration",properties.CloudWatchLogsConfiguration!=null?cfn_parse.FromCloudFormation.getAny(properties.CloudWatchLogsConfiguration):void 0),ret.addPropertyResult("logSchemaVersion","LogSchemaVersion",cfn_parse.FromCloudFormation.getNumber(properties.LogSchemaVersion)),ret.addPropertyResult("s3Configuration","S3Configuration",properties.S3Configuration!=null?cfn_parse.FromCloudFormation.getAny(properties.S3Configuration):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnExperimentTemplate_ExperimentTemplateStopConditionPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("source",cdk.requiredValidator)(properties.source)),errors.collect(cdk.propertyValidator("source",cdk.validateString)(properties.source)),errors.collect(cdk.propertyValidator("value",cdk.validateString)(properties.value)),errors.wrap('supplied properties not correct for "ExperimentTemplateStopConditionProperty"')}function cfnExperimentTemplateExperimentTemplateStopConditionPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplate_ExperimentTemplateStopConditionPropertyValidator(properties).assertSuccess(),{Source:cdk.stringToCloudFormation(properties.source),Value:cdk.stringToCloudFormation(properties.value)}):properties}function CfnExperimentTemplateExperimentTemplateStopConditionPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("source","Source",cfn_parse.FromCloudFormation.getString(properties.Source)),ret.addPropertyResult("value","Value",properties.Value!=null?cfn_parse.FromCloudFormation.getString(properties.Value):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnExperimentTemplate_ExperimentTemplateTargetPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("filters",cdk.listValidator(CfnExperimentTemplate_ExperimentTemplateTargetFilterPropertyValidator))(properties.filters)),errors.collect(cdk.propertyValidator("parameters",cdk.hashValidator(cdk.validateString))(properties.parameters)),errors.collect(cdk.propertyValidator("resourceArns",cdk.listValidator(cdk.validateString))(properties.resourceArns)),errors.collect(cdk.propertyValidator("resourceTags",cdk.hashValidator(cdk.validateString))(properties.resourceTags)),errors.collect(cdk.propertyValidator("resourceType",cdk.requiredValidator)(properties.resourceType)),errors.collect(cdk.propertyValidator("resourceType",cdk.validateString)(properties.resourceType)),errors.collect(cdk.propertyValidator("selectionMode",cdk.requiredValidator)(properties.selectionMode)),errors.collect(cdk.propertyValidator("selectionMode",cdk.validateString)(properties.selectionMode)),errors.wrap('supplied properties not correct for "ExperimentTemplateTargetProperty"')}function cfnExperimentTemplateExperimentTemplateTargetPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplate_ExperimentTemplateTargetPropertyValidator(properties).assertSuccess(),{Filters:cdk.listMapper(cfnExperimentTemplateExperimentTemplateTargetFilterPropertyToCloudFormation)(properties.filters),Parameters:cdk.hashMapper(cdk.stringToCloudFormation)(properties.parameters),ResourceArns:cdk.listMapper(cdk.stringToCloudFormation)(properties.resourceArns),ResourceTags:cdk.hashMapper(cdk.stringToCloudFormation)(properties.resourceTags),ResourceType:cdk.stringToCloudFormation(properties.resourceType),SelectionMode:cdk.stringToCloudFormation(properties.selectionMode)}):properties}function CfnExperimentTemplateExperimentTemplateTargetPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("filters","Filters",properties.Filters!=null?cfn_parse.FromCloudFormation.getArray(CfnExperimentTemplateExperimentTemplateTargetFilterPropertyFromCloudFormation)(properties.Filters):void 0),ret.addPropertyResult("parameters","Parameters",properties.Parameters!=null?cfn_parse.FromCloudFormation.getMap(cfn_parse.FromCloudFormation.getString)(properties.Parameters):void 0),ret.addPropertyResult("resourceArns","ResourceArns",properties.ResourceArns!=null?cfn_parse.FromCloudFormation.getStringArray(properties.ResourceArns):void 0),ret.addPropertyResult("resourceTags","ResourceTags",properties.ResourceTags!=null?cfn_parse.FromCloudFormation.getMap(cfn_parse.FromCloudFormation.getString)(properties.ResourceTags):void 0),ret.addPropertyResult("resourceType","ResourceType",cfn_parse.FromCloudFormation.getString(properties.ResourceType)),ret.addPropertyResult("selectionMode","SelectionMode",cfn_parse.FromCloudFormation.getString(properties.SelectionMode)),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnExperimentTemplate_ExperimentTemplateTargetFilterPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("path",cdk.requiredValidator)(properties.path)),errors.collect(cdk.propertyValidator("path",cdk.validateString)(properties.path)),errors.collect(cdk.propertyValidator("values",cdk.requiredValidator)(properties.values)),errors.collect(cdk.propertyValidator("values",cdk.listValidator(cdk.validateString))(properties.values)),errors.wrap('supplied properties not correct for "ExperimentTemplateTargetFilterProperty"')}function cfnExperimentTemplateExperimentTemplateTargetFilterPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplate_ExperimentTemplateTargetFilterPropertyValidator(properties).assertSuccess(),{Path:cdk.stringToCloudFormation(properties.path),Values:cdk.listMapper(cdk.stringToCloudFormation)(properties.values)}):properties}function CfnExperimentTemplateExperimentTemplateTargetFilterPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("path","Path",cfn_parse.FromCloudFormation.getString(properties.Path)),ret.addPropertyResult("values","Values",cfn_parse.FromCloudFormation.getStringArray(properties.Values)),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnExperimentTemplate_S3ConfigurationPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("bucketName",cdk.requiredValidator)(properties.bucketName)),errors.collect(cdk.propertyValidator("bucketName",cdk.validateString)(properties.bucketName)),errors.collect(cdk.propertyValidator("prefix",cdk.validateString)(properties.prefix)),errors.wrap('supplied properties not correct for "S3ConfigurationProperty"')}function cfnExperimentTemplateS3ConfigurationPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnExperimentTemplate_S3ConfigurationPropertyValidator(properties).assertSuccess(),{BucketName:cdk.stringToCloudFormation(properties.bucketName),Prefix:cdk.stringToCloudFormation(properties.prefix)}):properties}function CfnExperimentTemplateS3ConfigurationPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("bucketName","BucketName",cfn_parse.FromCloudFormation.getString(properties.BucketName)),ret.addPropertyResult("prefix","Prefix",properties.Prefix!=null?cfn_parse.FromCloudFormation.getString(properties.Prefix):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
