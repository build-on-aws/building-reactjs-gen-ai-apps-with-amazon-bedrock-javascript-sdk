"use strict";var _a,_b;Object.defineProperty(exports,"__esModule",{value:!0}),exports.CfnEnvironment=exports.CfnApplication=void 0;const jsiiDeprecationWarnings=require("../../.warnings.jsii.js"),JSII_RTTI_SYMBOL_1=Symbol.for("jsii.rtti"),cdk=require("../../core"),cfn_parse=require("../../core/lib/helpers-internal");function CfnApplicationPropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("definition",cdk.requiredValidator)(properties.definition)),errors.collect(cdk.propertyValidator("definition",CfnApplication_DefinitionPropertyValidator)(properties.definition)),errors.collect(cdk.propertyValidator("description",cdk.validateString)(properties.description)),errors.collect(cdk.propertyValidator("engineType",cdk.requiredValidator)(properties.engineType)),errors.collect(cdk.propertyValidator("engineType",cdk.validateString)(properties.engineType)),errors.collect(cdk.propertyValidator("kmsKeyId",cdk.validateString)(properties.kmsKeyId)),errors.collect(cdk.propertyValidator("name",cdk.requiredValidator)(properties.name)),errors.collect(cdk.propertyValidator("name",cdk.validateString)(properties.name)),errors.collect(cdk.propertyValidator("tags",cdk.hashValidator(cdk.validateString))(properties.tags)),errors.wrap('supplied properties not correct for "CfnApplicationProps"')}function cfnApplicationPropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnApplicationPropsValidator(properties).assertSuccess(),{Definition:cfnApplicationDefinitionPropertyToCloudFormation(properties.definition),EngineType:cdk.stringToCloudFormation(properties.engineType),Name:cdk.stringToCloudFormation(properties.name),Description:cdk.stringToCloudFormation(properties.description),KmsKeyId:cdk.stringToCloudFormation(properties.kmsKeyId),Tags:cdk.hashMapper(cdk.stringToCloudFormation)(properties.tags)}):properties}function CfnApplicationPropsFromCloudFormation(properties){if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("definition","Definition",CfnApplicationDefinitionPropertyFromCloudFormation(properties.Definition)),ret.addPropertyResult("engineType","EngineType",cfn_parse.FromCloudFormation.getString(properties.EngineType)),ret.addPropertyResult("name","Name",cfn_parse.FromCloudFormation.getString(properties.Name)),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse.FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("kmsKeyId","KmsKeyId",properties.KmsKeyId!=null?cfn_parse.FromCloudFormation.getString(properties.KmsKeyId):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse.FromCloudFormation.getMap(cfn_parse.FromCloudFormation.getString)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnApplication extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnApplicationPropsFromCloudFormation(resourceProperties),ret=new CfnApplication(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnApplication.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_m2_CfnApplicationProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnApplication),error}cdk.requireProperty(props,"definition",this),cdk.requireProperty(props,"engineType",this),cdk.requireProperty(props,"name",this),this.attrApplicationArn=cdk.Token.asString(this.getAtt("ApplicationArn",cdk.ResolutionTypeHint.STRING)),this.attrApplicationId=cdk.Token.asString(this.getAtt("ApplicationId",cdk.ResolutionTypeHint.STRING)),this.definition=props.definition,this.engineType=props.engineType,this.name=props.name,this.description=props.description,this.kmsKeyId=props.kmsKeyId,this.tags=new cdk.TagManager(cdk.TagType.MAP,"AWS::M2::Application",props.tags,{tagPropertyName:"tags"})}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnApplication.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}get cfnProperties(){return{definition:this.definition,engineType:this.engineType,name:this.name,description:this.description,kmsKeyId:this.kmsKeyId,tags:this.tags.renderTags()}}renderProperties(props){return cfnApplicationPropsToCloudFormation(props)}}_a=JSII_RTTI_SYMBOL_1,CfnApplication[_a]={fqn:"aws-cdk-lib.aws_m2.CfnApplication",version:"2.80.0"},CfnApplication.CFN_RESOURCE_TYPE_NAME="AWS::M2::Application",exports.CfnApplication=CfnApplication;function CfnApplication_DefinitionPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("content",cdk.validateString)(properties.content)),errors.collect(cdk.propertyValidator("s3Location",cdk.validateString)(properties.s3Location)),errors.wrap('supplied properties not correct for "DefinitionProperty"')}function cfnApplicationDefinitionPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnApplication_DefinitionPropertyValidator(properties).assertSuccess(),{Content:cdk.stringToCloudFormation(properties.content),S3Location:cdk.stringToCloudFormation(properties.s3Location)}):properties}function CfnApplicationDefinitionPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("content","Content",properties.Content!=null?cfn_parse.FromCloudFormation.getString(properties.Content):void 0),ret.addPropertyResult("s3Location","S3Location",properties.S3Location!=null?cfn_parse.FromCloudFormation.getString(properties.S3Location):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnEnvironmentPropsValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("description",cdk.validateString)(properties.description)),errors.collect(cdk.propertyValidator("engineType",cdk.requiredValidator)(properties.engineType)),errors.collect(cdk.propertyValidator("engineType",cdk.validateString)(properties.engineType)),errors.collect(cdk.propertyValidator("engineVersion",cdk.validateString)(properties.engineVersion)),errors.collect(cdk.propertyValidator("highAvailabilityConfig",CfnEnvironment_HighAvailabilityConfigPropertyValidator)(properties.highAvailabilityConfig)),errors.collect(cdk.propertyValidator("instanceType",cdk.requiredValidator)(properties.instanceType)),errors.collect(cdk.propertyValidator("instanceType",cdk.validateString)(properties.instanceType)),errors.collect(cdk.propertyValidator("kmsKeyId",cdk.validateString)(properties.kmsKeyId)),errors.collect(cdk.propertyValidator("name",cdk.requiredValidator)(properties.name)),errors.collect(cdk.propertyValidator("name",cdk.validateString)(properties.name)),errors.collect(cdk.propertyValidator("preferredMaintenanceWindow",cdk.validateString)(properties.preferredMaintenanceWindow)),errors.collect(cdk.propertyValidator("publiclyAccessible",cdk.validateBoolean)(properties.publiclyAccessible)),errors.collect(cdk.propertyValidator("securityGroupIds",cdk.listValidator(cdk.validateString))(properties.securityGroupIds)),errors.collect(cdk.propertyValidator("storageConfigurations",cdk.listValidator(CfnEnvironment_StorageConfigurationPropertyValidator))(properties.storageConfigurations)),errors.collect(cdk.propertyValidator("subnetIds",cdk.listValidator(cdk.validateString))(properties.subnetIds)),errors.collect(cdk.propertyValidator("tags",cdk.hashValidator(cdk.validateString))(properties.tags)),errors.wrap('supplied properties not correct for "CfnEnvironmentProps"')}function cfnEnvironmentPropsToCloudFormation(properties){return cdk.canInspect(properties)?(CfnEnvironmentPropsValidator(properties).assertSuccess(),{EngineType:cdk.stringToCloudFormation(properties.engineType),InstanceType:cdk.stringToCloudFormation(properties.instanceType),Name:cdk.stringToCloudFormation(properties.name),Description:cdk.stringToCloudFormation(properties.description),EngineVersion:cdk.stringToCloudFormation(properties.engineVersion),HighAvailabilityConfig:cfnEnvironmentHighAvailabilityConfigPropertyToCloudFormation(properties.highAvailabilityConfig),KmsKeyId:cdk.stringToCloudFormation(properties.kmsKeyId),PreferredMaintenanceWindow:cdk.stringToCloudFormation(properties.preferredMaintenanceWindow),PubliclyAccessible:cdk.booleanToCloudFormation(properties.publiclyAccessible),SecurityGroupIds:cdk.listMapper(cdk.stringToCloudFormation)(properties.securityGroupIds),StorageConfigurations:cdk.listMapper(cfnEnvironmentStorageConfigurationPropertyToCloudFormation)(properties.storageConfigurations),SubnetIds:cdk.listMapper(cdk.stringToCloudFormation)(properties.subnetIds),Tags:cdk.hashMapper(cdk.stringToCloudFormation)(properties.tags)}):properties}function CfnEnvironmentPropsFromCloudFormation(properties){if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("engineType","EngineType",cfn_parse.FromCloudFormation.getString(properties.EngineType)),ret.addPropertyResult("instanceType","InstanceType",cfn_parse.FromCloudFormation.getString(properties.InstanceType)),ret.addPropertyResult("name","Name",cfn_parse.FromCloudFormation.getString(properties.Name)),ret.addPropertyResult("description","Description",properties.Description!=null?cfn_parse.FromCloudFormation.getString(properties.Description):void 0),ret.addPropertyResult("engineVersion","EngineVersion",properties.EngineVersion!=null?cfn_parse.FromCloudFormation.getString(properties.EngineVersion):void 0),ret.addPropertyResult("highAvailabilityConfig","HighAvailabilityConfig",properties.HighAvailabilityConfig!=null?CfnEnvironmentHighAvailabilityConfigPropertyFromCloudFormation(properties.HighAvailabilityConfig):void 0),ret.addPropertyResult("kmsKeyId","KmsKeyId",properties.KmsKeyId!=null?cfn_parse.FromCloudFormation.getString(properties.KmsKeyId):void 0),ret.addPropertyResult("preferredMaintenanceWindow","PreferredMaintenanceWindow",properties.PreferredMaintenanceWindow!=null?cfn_parse.FromCloudFormation.getString(properties.PreferredMaintenanceWindow):void 0),ret.addPropertyResult("publiclyAccessible","PubliclyAccessible",properties.PubliclyAccessible!=null?cfn_parse.FromCloudFormation.getBoolean(properties.PubliclyAccessible):void 0),ret.addPropertyResult("securityGroupIds","SecurityGroupIds",properties.SecurityGroupIds!=null?cfn_parse.FromCloudFormation.getStringArray(properties.SecurityGroupIds):void 0),ret.addPropertyResult("storageConfigurations","StorageConfigurations",properties.StorageConfigurations!=null?cfn_parse.FromCloudFormation.getArray(CfnEnvironmentStorageConfigurationPropertyFromCloudFormation)(properties.StorageConfigurations):void 0),ret.addPropertyResult("subnetIds","SubnetIds",properties.SubnetIds!=null?cfn_parse.FromCloudFormation.getStringArray(properties.SubnetIds):void 0),ret.addPropertyResult("tags","Tags",properties.Tags!=null?cfn_parse.FromCloudFormation.getMap(cfn_parse.FromCloudFormation.getString)(properties.Tags):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}class CfnEnvironment extends cdk.CfnResource{static _fromCloudFormation(scope,id,resourceAttributes,options){resourceAttributes=resourceAttributes||{};const resourceProperties=options.parser.parseValue(resourceAttributes.Properties),propsResult=CfnEnvironmentPropsFromCloudFormation(resourceProperties),ret=new CfnEnvironment(scope,id,propsResult.value);for(const[propKey,propVal]of Object.entries(propsResult.extraProperties))ret.addPropertyOverride(propKey,propVal);return options.parser.handleAttributes(ret,resourceAttributes,id),ret}constructor(scope,id,props){super(scope,id,{type:CfnEnvironment.CFN_RESOURCE_TYPE_NAME,properties:props});try{jsiiDeprecationWarnings.aws_cdk_lib_aws_m2_CfnEnvironmentProps(props)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,CfnEnvironment),error}cdk.requireProperty(props,"engineType",this),cdk.requireProperty(props,"instanceType",this),cdk.requireProperty(props,"name",this),this.attrEnvironmentArn=cdk.Token.asString(this.getAtt("EnvironmentArn",cdk.ResolutionTypeHint.STRING)),this.attrEnvironmentId=cdk.Token.asString(this.getAtt("EnvironmentId",cdk.ResolutionTypeHint.STRING)),this.engineType=props.engineType,this.instanceType=props.instanceType,this.name=props.name,this.description=props.description,this.engineVersion=props.engineVersion,this.highAvailabilityConfig=props.highAvailabilityConfig,this.kmsKeyId=props.kmsKeyId,this.preferredMaintenanceWindow=props.preferredMaintenanceWindow,this.publiclyAccessible=props.publiclyAccessible,this.securityGroupIds=props.securityGroupIds,this.storageConfigurations=props.storageConfigurations,this.subnetIds=props.subnetIds,this.tags=new cdk.TagManager(cdk.TagType.MAP,"AWS::M2::Environment",props.tags,{tagPropertyName:"tags"})}inspect(inspector){try{jsiiDeprecationWarnings.aws_cdk_lib_TreeInspector(inspector)}catch(error){throw process.env.JSII_DEBUG!=="1"&&error.name==="DeprecationError"&&Error.captureStackTrace(error,this.inspect),error}inspector.addAttribute("aws:cdk:cloudformation:type",CfnEnvironment.CFN_RESOURCE_TYPE_NAME),inspector.addAttribute("aws:cdk:cloudformation:props",this.cfnProperties)}get cfnProperties(){return{engineType:this.engineType,instanceType:this.instanceType,name:this.name,description:this.description,engineVersion:this.engineVersion,highAvailabilityConfig:this.highAvailabilityConfig,kmsKeyId:this.kmsKeyId,preferredMaintenanceWindow:this.preferredMaintenanceWindow,publiclyAccessible:this.publiclyAccessible,securityGroupIds:this.securityGroupIds,storageConfigurations:this.storageConfigurations,subnetIds:this.subnetIds,tags:this.tags.renderTags()}}renderProperties(props){return cfnEnvironmentPropsToCloudFormation(props)}}_b=JSII_RTTI_SYMBOL_1,CfnEnvironment[_b]={fqn:"aws-cdk-lib.aws_m2.CfnEnvironment",version:"2.80.0"},CfnEnvironment.CFN_RESOURCE_TYPE_NAME="AWS::M2::Environment",exports.CfnEnvironment=CfnEnvironment;function CfnEnvironment_EfsStorageConfigurationPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("fileSystemId",cdk.requiredValidator)(properties.fileSystemId)),errors.collect(cdk.propertyValidator("fileSystemId",cdk.validateString)(properties.fileSystemId)),errors.collect(cdk.propertyValidator("mountPoint",cdk.requiredValidator)(properties.mountPoint)),errors.collect(cdk.propertyValidator("mountPoint",cdk.validateString)(properties.mountPoint)),errors.wrap('supplied properties not correct for "EfsStorageConfigurationProperty"')}function cfnEnvironmentEfsStorageConfigurationPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnEnvironment_EfsStorageConfigurationPropertyValidator(properties).assertSuccess(),{FileSystemId:cdk.stringToCloudFormation(properties.fileSystemId),MountPoint:cdk.stringToCloudFormation(properties.mountPoint)}):properties}function CfnEnvironmentEfsStorageConfigurationPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("fileSystemId","FileSystemId",cfn_parse.FromCloudFormation.getString(properties.FileSystemId)),ret.addPropertyResult("mountPoint","MountPoint",cfn_parse.FromCloudFormation.getString(properties.MountPoint)),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnEnvironment_FsxStorageConfigurationPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("fileSystemId",cdk.requiredValidator)(properties.fileSystemId)),errors.collect(cdk.propertyValidator("fileSystemId",cdk.validateString)(properties.fileSystemId)),errors.collect(cdk.propertyValidator("mountPoint",cdk.requiredValidator)(properties.mountPoint)),errors.collect(cdk.propertyValidator("mountPoint",cdk.validateString)(properties.mountPoint)),errors.wrap('supplied properties not correct for "FsxStorageConfigurationProperty"')}function cfnEnvironmentFsxStorageConfigurationPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnEnvironment_FsxStorageConfigurationPropertyValidator(properties).assertSuccess(),{FileSystemId:cdk.stringToCloudFormation(properties.fileSystemId),MountPoint:cdk.stringToCloudFormation(properties.mountPoint)}):properties}function CfnEnvironmentFsxStorageConfigurationPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("fileSystemId","FileSystemId",cfn_parse.FromCloudFormation.getString(properties.FileSystemId)),ret.addPropertyResult("mountPoint","MountPoint",cfn_parse.FromCloudFormation.getString(properties.MountPoint)),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnEnvironment_HighAvailabilityConfigPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("desiredCapacity",cdk.requiredValidator)(properties.desiredCapacity)),errors.collect(cdk.propertyValidator("desiredCapacity",cdk.validateNumber)(properties.desiredCapacity)),errors.wrap('supplied properties not correct for "HighAvailabilityConfigProperty"')}function cfnEnvironmentHighAvailabilityConfigPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnEnvironment_HighAvailabilityConfigPropertyValidator(properties).assertSuccess(),{DesiredCapacity:cdk.numberToCloudFormation(properties.desiredCapacity)}):properties}function CfnEnvironmentHighAvailabilityConfigPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("desiredCapacity","DesiredCapacity",cfn_parse.FromCloudFormation.getNumber(properties.DesiredCapacity)),ret.addUnrecognizedPropertiesAsExtra(properties),ret}function CfnEnvironment_StorageConfigurationPropertyValidator(properties){if(!cdk.canInspect(properties))return cdk.VALIDATION_SUCCESS;const errors=new cdk.ValidationResults;return typeof properties!="object"&&errors.collect(new cdk.ValidationResult("Expected an object, but received: "+JSON.stringify(properties))),errors.collect(cdk.propertyValidator("efs",CfnEnvironment_EfsStorageConfigurationPropertyValidator)(properties.efs)),errors.collect(cdk.propertyValidator("fsx",CfnEnvironment_FsxStorageConfigurationPropertyValidator)(properties.fsx)),errors.wrap('supplied properties not correct for "StorageConfigurationProperty"')}function cfnEnvironmentStorageConfigurationPropertyToCloudFormation(properties){return cdk.canInspect(properties)?(CfnEnvironment_StorageConfigurationPropertyValidator(properties).assertSuccess(),{Efs:cfnEnvironmentEfsStorageConfigurationPropertyToCloudFormation(properties.efs),Fsx:cfnEnvironmentFsxStorageConfigurationPropertyToCloudFormation(properties.fsx)}):properties}function CfnEnvironmentStorageConfigurationPropertyFromCloudFormation(properties){if(cdk.isResolvableObject(properties))return new cfn_parse.FromCloudFormationResult(properties);if(properties=properties??{},typeof properties!="object")return new cfn_parse.FromCloudFormationResult(properties);const ret=new cfn_parse.FromCloudFormationPropertyObject;return ret.addPropertyResult("efs","Efs",properties.Efs!=null?CfnEnvironmentEfsStorageConfigurationPropertyFromCloudFormation(properties.Efs):void 0),ret.addPropertyResult("fsx","Fsx",properties.Fsx!=null?CfnEnvironmentFsxStorageConfigurationPropertyFromCloudFormation(properties.Fsx):void 0),ret.addUnrecognizedPropertiesAsExtra(properties),ret}
